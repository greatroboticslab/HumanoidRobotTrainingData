+ cd /ocean/projects/cis240145p/byler/PSCCode
+ cd video_processing
+ cd rawvideos
+ TOTAL_DOWNLOADED=0
+ for URL_LIST in "${FILES[@]}"
++ basename ../videos.txt .txt
+ BASENAME=videos
+ LOG_FILE=videos_downloaded.log
+ echo ''
+ echo 'Processing: ../videos.txt'
+ echo 'Log file: videos_downloaded.log'
+ touch videos_downloaded.log
+ grep -vxFf videos_downloaded.log ../videos.txt
+ '[' -s temp_remaining_videos.txt ']'
+ echo 'âœ… Finished processing ../videos.txt or hit limit.'
+ rm -f current_batch_videos.txt temp_remaining_videos.txt
+ for URL_LIST in "${FILES[@]}"
++ basename ../videos_s1.txt .txt
+ BASENAME=videos_s1
+ LOG_FILE=videos_s1_downloaded.log
+ echo ''
+ echo 'Processing: ../videos_s1.txt'
+ echo 'Log file: videos_s1_downloaded.log'
+ touch videos_s1_downloaded.log
+ grep -vxFf videos_s1_downloaded.log ../videos_s1.txt
+ '[' -s temp_remaining_videos_s1.txt ']'
+ '[' 0 -ge 150 ']'
+ echo 'Starting new batch for ../videos_s1.txt...'
+ REMAINING=150
+ CURRENT_BATCH_SIZE=15
+ head -n 15 temp_remaining_videos_s1.txt
+ conda run -n whisper yt-dlp --merge-output-format mp4 --cookies ../cookies.txt -o '%(id)s.%(ext)s' -a current_batch_videos_s1.txt
+ cat current_batch_videos_s1.txt
+ sed -i 1,15d temp_remaining_videos_s1.txt
+ TOTAL_DOWNLOADED=15
+ echo 'Batch complete (15 / 150 downloaded).'
+ sleep 300
+ '[' -s temp_remaining_videos_s1.txt ']'
+ '[' 15 -ge 150 ']'
+ echo 'Starting new batch for ../videos_s1.txt...'
+ REMAINING=135
+ CURRENT_BATCH_SIZE=15
+ head -n 15 temp_remaining_videos_s1.txt
+ conda run -n whisper yt-dlp --merge-output-format mp4 --cookies ../cookies.txt -o '%(id)s.%(ext)s' -a current_batch_videos_s1.txt
+ cat current_batch_videos_s1.txt
+ sed -i 1,15d temp_remaining_videos_s1.txt
+ TOTAL_DOWNLOADED=30
+ echo 'Batch complete (30 / 150 downloaded).'
+ sleep 300
+ '[' -s temp_remaining_videos_s1.txt ']'
+ '[' 30 -ge 150 ']'
+ echo 'Starting new batch for ../videos_s1.txt...'
+ REMAINING=120
+ CURRENT_BATCH_SIZE=15
+ head -n 15 temp_remaining_videos_s1.txt
+ conda run -n whisper yt-dlp --merge-output-format mp4 --cookies ../cookies.txt -o '%(id)s.%(ext)s' -a current_batch_videos_s1.txt
